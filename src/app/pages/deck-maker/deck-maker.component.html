<app-go-to-home></app-go-to-home>

<mat-accordion class="sticky top-0">
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title class="m-8 align-middle">
        <mat-form-field class="scale-75">
          <input
            class="w-32"
            matInput
            [value]="(currentDeck$ | async)?.name"
            (keyup)="editDeckName($event)"
            (click)="$event.stopPropagation()"
            (keydown.Space)="$event.stopImmediatePropagation()"
          />
        </mat-form-field>
      </mat-panel-title>
      <mat-panel-description>
        quantidade de types únicos: {{ typesNum }} | quantidade de cartas de
        pokemons: {{ counterSubtypes["Pokémon"] }} | quantidade de cartas de
        treinador: {{ counterSubtypes["Trainer"] }} | número de cartas:
        {{ (currentDeck$ | async)?.cards?.length }} |
        <button mat-stroked-button class="mx-4" (click)="onSubmit()">
          Salvar
        </button>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <app-cards-list
      [hasPaginator]="false"
      [list]="(currentDeck$ | async)?.cards"
      [emptyListMessage]="'Baralho vazio!'"
      [displayAddButton]="false"
    ></app-cards-list>
  </mat-expansion-panel>
</mat-accordion>

<form [formGroup]="form">
  <mat-form-field class="flex flex-row m-4">
    <mat-icon class="text-black-600 inline align-middle"> search </mat-icon>
    <input matInput placeholder="Ex. togepi" formControlName="searchInput" />
  </mat-form-field>
</form>

<app-loading-box [loadingSize]="75" class="flex justify-center items-center">
  <app-cards-list
    [hasPaginator]="true"
    [list]="searchedCardList"
    [emptyListMessage]="'Não foi encontrado nenhum pokémon com o termo buscado'"
    [displayRemoveButton]="false"
  ></app-cards-list>
</app-loading-box>
